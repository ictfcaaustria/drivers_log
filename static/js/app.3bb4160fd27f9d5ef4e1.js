webpackJsonp([1],{144:function(e,t,i){"use strict";t.a={name:"Vehicles",methods:{nav:function(e){this.$store.commit("setcurrent",{key:"vehicle",val:e}),this.$router.push(this.$route.path+"/"+e.id)}}}},145:function(e,t,i){"use strict";var s=i(426),n=i.n(s),a=i(36),r=i.n(a),l=i(56);i.n(l);t.a={name:"Logs",data:function(){return{delete_active:!1,todelete:null,todelete_index:null,sending:!1}},methods:{nav:function(e,t){this.$store.commit("setcurrent",{key:"log",val:e}),console.log(this.$store.state.current.log),this.$router.push(this.$route.path+"/"+e.id)},newlog:function(){var e=n.a.generate();this.$store.commit("cleanlog"),this.$router.push(this.$route.path+"/"+e)},confirm_delete:function(){var e=this;console.log("technically deleting"),console.log(this.todelete_index),console.log("index:"),console.log(this.$store.state.current.vehicle.logs[this.todelete_index]),this.todelete_index>-1&&(this.$store.state.current.vehicle.logs.splice(this.todelete_index,1),r.a.firestore().collection("drivers-log").doc(this.$store.state.current.vehicle.id).set(this.$store.state.current.vehicle,{merge:!0}).then(function(t){e.sending=!1,e.changesSaved=!0,console.log("finished saving to firebase"),console.log(t),e.todelete=null,e.todelete_index=null},function(t){e.todelete=null,e.todelete_index=null,e.sending=!1,alert(t)}))},cancel_delete:function(){this.todelete=null,this.todelete_index=null}}}},147:function(e,t,i){"use strict";var s=i(36),n=i.n(s),a=i(56),r=(i.n(a),i(0)),l=i.n(r),o=i(87),d=(i.n(o),i(88));i.n(d);t.a={name:"FormValidation",mixins:[o.validationMixin],data:function(){return{form:{title:null,driver:null,starting_location:null,finishing_location:null,starting_date:l()().format("DD.MM.YYYY hh:mm"),finishing_date:null,andback:!1,starting_milage:null,finishing_milage:null,parking_location:null,fuel_left:null},isnew:!1,sending:!1}},validations:{form:{title:{required:d.required},driver:{required:d.required},starting_milage:{required:d.required,numeric:d.numeric},finishing_milage:{numeric:d.numeric},starting_date:{required:d.required},finishing_date:{},starting_location:{required:d.required},finishing_location:{},fuel_left:{numeric:d.numeric}}},methods:{getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},clearForm:function(){this.$v.$reset(),this.form.firstName=null,this.form.lastName=null,this.form.age=null,this.form.gender=null,this.form.email=null},saveLog:function(){var e=this;this.sending=!0,console.log("setting in firebase"),this.isnew&&this.$store.commit("addnewlogtocurrentvehicle",this.form),console.log(this.$store.state.current.vehicle),n.a.firestore().collection("drivers-log").doc(this.$store.state.current.vehicle.id).set(this.$store.state.current.vehicle,{merge:!0}).then(function(t){e.sending=!1,e.$store.commit("setSnack",{show:!0,msg:"Saved log changes to db."}),e.$router.go(-1),console.log("finished saving to firebase")},function(t){e.sending=!1,alert(t)})},validateForm:function(){this.$v.$touch(),this.$v.$invalid||this.saveLog()}},mounted:function(){this.$store.state.current.log?this.form=this.$store.state.current.log:(this.form.driver=this.$store.state.user.email,this.isnew=!0)}}},271:function(e,t,i){"use strict";var s=i(36),n=i.n(s),a=i(56),r=(i.n(a),i(87)),l=(i.n(r),i(88));i.n(l);t.a={name:"FormValidation",mixins:[r.validationMixin],data:function(){return{boolean:!1,form:{title:null,driver:null,andback:!1,starting_milage:null,finishing_milage:null},userSaved:!1,changesSaved:!1,sending:!1,lastUser:null}},validations:{form:{title:{required:l.required},driver:{required:l.required},starting_milage:{required:l.required,numeric:l.numeric},finishing_milage:{required:l.required,numeric:l.numeric}}},methods:{getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},clearForm:function(){this.$v.$reset(),this.form.firstName=null,this.form.lastName=null,this.form.age=null,this.form.gender=null,this.form.email=null},saveLog:function(){var e=this;this.sending=!0,console.log("setting in firebase"),this.$store.commit("addnewlogtocurrentvehicle",this.form),console.log(this.$store.state.current.vehicle),n.a.firestore().collection("test").doc(this.$store.state.current.vehicle.id).set(this.$store.state.current.vehicle,{merge:!0}).then(function(t){e.sending=!1,e.changesSaved=!0,e.$router.go(-1),console.log("finished saving to firebase"),console.log(t)},function(t){e.sending=!1,alert(t)})},validateForm:function(){this.$v.$touch(),this.$v.$invalid||this.saveLog()}},mounted:function(){console.log(this.$store.state.user),this.form.driver=this.$store.state.user.email}}},272:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(46),n=i(274),a=i(92),r=i(279),l=i(443),o=i.n(l),d=i(444),c=(i.n(d),i(445)),m=(i.n(c),i(36)),u=i.n(m),f=i(446),v=i.n(f);s.default.use(v.a,{id:"UA-116680815-1",router:r.a,debug:{sendHitTask:!0}}),u.a.initializeApp({apiKey:"AIzaSyAD1eCuH6pzqIETLPNGT_Q5m51rqHfgu3Y",authDomain:"mobile-logbook.firebaseapp.com",projectId:"mobile-logbook"}),s.default.use(o.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:r.a,store:a.a,template:"<App/>",components:{App:n.a}})},274:function(e,t,i){"use strict";function s(e){i(275)}var n=i(91),a=i(277),r=i(30),l=s,o=r(n.a,a.a,!1,l,"data-v-711a98b4",null);t.a=o.exports},275:function(e,t){},277:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-container",staticStyle:{"max-width":"944px",margin:"0 auto"}},[i("md-app",{attrs:{"md-mode":"fixed"}},[i("md-app-toolbar",{staticClass:"md-primary"},["Login"!=e.$store.state.title?i("md-button",{staticClass:"md-icon-button",on:{click:function(t){e.$router.go(-1)}}},[i("md-icon",[e._v("arrow_back")])],1):e._e(),e._v(" "),i("span",{staticClass:"md-title"},[e._v(e._s(e.$store.state.title))])],1),e._v(" "),i("md-app-content",[i("router-view"),e._v(" "),i("md-snackbar",{attrs:{"md-active":e.$store.state.snack.show}},[e._v(e._s(e.$store.state.snack.msg))])],1)],1)],1)},n=[],a={render:s,staticRenderFns:n};t.a=a},279:function(e,t,i){"use strict";var s=i(46),n=i(280),a=i(92),r=i(281),l=i(423),o=i(425),d=i(435);i(440);s.default.use(n.a);var c=new n.a({routes:[{path:"/",name:"Login",component:r.a},{path:"/Vehicles",name:"Vehicles",component:l.a},{path:"/Vehicles/:vehicleid",name:"Logs",component:o.a},{path:"/Vehicles/:vehicleid/:logid",name:"Logdetails",component:d.a}]});c.beforeEach(function(e,t,i){e.name&&a.a.commit("settitle",e.name),console.log(e.name),a.a.state.user||"Login"===e.name?i():i("/")}),t.a=c},281:function(e,t,i){"use strict";function s(e){i(282)}var n=i(93),a=i(422),r=i(30),l=s,o=r(n.a,a.a,!1,l,"data-v-7d011831",null);t.a=o.exports},282:function(e,t){},422:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-container"},[i("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validateUser(t)}}},[i("md-field",{class:e.getValidationClass("email")},[i("label",{attrs:{for:"email"}},[e._v("Email")]),e._v(" "),i("md-input",{attrs:{type:"email",name:"email",id:"email",autocomplete:"email",disabled:e.sending},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),e.$v.form.email.required?e.$v.form.email.email?e._e():i("span",{staticClass:"md-error"},[e._v("Invalid email")]):i("span",{staticClass:"md-error"},[e._v("The email is required")])],1),e._v(" "),i("md-field",{class:e.getValidationClass("password")},[i("label",{attrs:{for:"password"}},[e._v("Password")]),e._v(" "),i("md-input",{attrs:{type:"password",name:"password",id:"password",autocomplete:"password",disabled:e.sending},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),e.$v.form.password.required?e.$v.form.password.minLength?e._e():i("span",{staticClass:"md-error"},[e._v("Password too short (min. 4 characters)")]):i("span",{staticClass:"md-error"},[e._v("Password is required")])],1),e._v(" "),e.sending?i("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):e._e(),e._v(" "),i("div",{staticClass:"md-layout md-alignment-center-center "},[i("div",{staticClass:"md-layout-item",staticStyle:{flex:"0"}},[i("md-button",{staticClass:"md-primary",attrs:{type:"submit",disabled:e.sending}},[e._v("Login")])],1)]),e._v(" "),i("md-snackbar",{attrs:{"md-active":e.userSaved},on:{"update:mdActive":function(t){e.userSaved=t}}},[e._v("Login with email "+e._s(e.form.email)+" was successful!")])],1),e._v(" "),i("md-dialog-alert",{attrs:{"md-active":e.alert,"md-content":e.errmsg,"md-confirm-text":"Close"},on:{"update:mdActive":function(t){e.alert=t},"update:mdContent":function(t){e.errmsg=t}}})],1)},n=[],a={render:s,staticRenderFns:n};t.a=a},423:function(e,t,i){"use strict";var s=i(144),n=i(424),a=i(30),r=a(s.a,n.a,!1,null,null,null);t.a=r.exports},424:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-container"},e._l(e.$store.state.vehicles,function(t){return i("md-list",{key:t.id},[i("md-list-item",{on:{click:function(i){e.nav(t)}}},[i("span",{staticClass:"md-list-item-text"},[e._v(e._s(t.name))])])],1)}))},n=[],a={render:s,staticRenderFns:n};t.a=a},425:function(e,t,i){"use strict";var s=i(145),n=i(434),a=i(30),r=a(s.a,n.a,!1,null,null,null);t.a=r.exports},434:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-container"},[e._l(e.$store.state.current.vehicle.logs,function(t,s){return i("md-list",{key:t.id},[i("md-list-item",[i("span",{staticClass:"md-list-item-text",on:{click:function(i){e.nav(t,s)}}},[e._v(e._s(t.title))]),e._v(" "),i("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(i){e.delete_active=!0,e.todelete=t,e.todelete_index=s}}},[i("md-icon",[e._v("delete")])],1)],1)],1)}),e._v(" "),i("div",[i("md-dialog-confirm",{attrs:{"md-active":e.delete_active,"md-title":"Delete?","md-confirm-text":"Delete","md-cancel-text":"Cancel"},on:{"update:mdActive":function(t){e.delete_active=t},"md-cancel":e.cancel_delete,"md-confirm":e.confirm_delete}})],1),e._v(" "),i("div",[i("md-button",{staticClass:"md-fab md-fixed md-primary md-fab-bottom-right",on:{click:e.newlog}},[i("md-icon",[e._v("add")])],1)],1)],2)},n=[],a={render:s,staticRenderFns:n};t.a=a},435:function(e,t,i){"use strict";function s(e){i(436)}var n=i(147),a=i(439),r=i(30),l=s,o=r(n.a,a.a,!1,l,"data-v-35d89aa0",null);t.a=o.exports},436:function(e,t){},438:function(e,t,i){function s(e){return i(n(e))}function n(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./af":148,"./af.js":148,"./ar":149,"./ar-dz":150,"./ar-dz.js":150,"./ar-kw":151,"./ar-kw.js":151,"./ar-ly":152,"./ar-ly.js":152,"./ar-ma":153,"./ar-ma.js":153,"./ar-sa":154,"./ar-sa.js":154,"./ar-tn":155,"./ar-tn.js":155,"./ar.js":149,"./az":156,"./az.js":156,"./be":157,"./be.js":157,"./bg":158,"./bg.js":158,"./bm":159,"./bm.js":159,"./bn":160,"./bn.js":160,"./bo":161,"./bo.js":161,"./br":162,"./br.js":162,"./bs":163,"./bs.js":163,"./ca":164,"./ca.js":164,"./cs":165,"./cs.js":165,"./cv":166,"./cv.js":166,"./cy":167,"./cy.js":167,"./da":168,"./da.js":168,"./de":169,"./de-at":170,"./de-at.js":170,"./de-ch":171,"./de-ch.js":171,"./de.js":169,"./dv":172,"./dv.js":172,"./el":173,"./el.js":173,"./en-au":174,"./en-au.js":174,"./en-ca":175,"./en-ca.js":175,"./en-gb":176,"./en-gb.js":176,"./en-ie":177,"./en-ie.js":177,"./en-il":178,"./en-il.js":178,"./en-nz":179,"./en-nz.js":179,"./eo":180,"./eo.js":180,"./es":181,"./es-do":182,"./es-do.js":182,"./es-us":183,"./es-us.js":183,"./es.js":181,"./et":184,"./et.js":184,"./eu":185,"./eu.js":185,"./fa":186,"./fa.js":186,"./fi":187,"./fi.js":187,"./fo":188,"./fo.js":188,"./fr":189,"./fr-ca":190,"./fr-ca.js":190,"./fr-ch":191,"./fr-ch.js":191,"./fr.js":189,"./fy":192,"./fy.js":192,"./gd":193,"./gd.js":193,"./gl":194,"./gl.js":194,"./gom-latn":195,"./gom-latn.js":195,"./gu":196,"./gu.js":196,"./he":197,"./he.js":197,"./hi":198,"./hi.js":198,"./hr":199,"./hr.js":199,"./hu":200,"./hu.js":200,"./hy-am":201,"./hy-am.js":201,"./id":202,"./id.js":202,"./is":203,"./is.js":203,"./it":204,"./it.js":204,"./ja":205,"./ja.js":205,"./jv":206,"./jv.js":206,"./ka":207,"./ka.js":207,"./kk":208,"./kk.js":208,"./km":209,"./km.js":209,"./kn":210,"./kn.js":210,"./ko":211,"./ko.js":211,"./ky":212,"./ky.js":212,"./lb":213,"./lb.js":213,"./lo":214,"./lo.js":214,"./lt":215,"./lt.js":215,"./lv":216,"./lv.js":216,"./me":217,"./me.js":217,"./mi":218,"./mi.js":218,"./mk":219,"./mk.js":219,"./ml":220,"./ml.js":220,"./mn":221,"./mn.js":221,"./mr":222,"./mr.js":222,"./ms":223,"./ms-my":224,"./ms-my.js":224,"./ms.js":223,"./mt":225,"./mt.js":225,"./my":226,"./my.js":226,"./nb":227,"./nb.js":227,"./ne":228,"./ne.js":228,"./nl":229,"./nl-be":230,"./nl-be.js":230,"./nl.js":229,"./nn":231,"./nn.js":231,"./pa-in":232,"./pa-in.js":232,"./pl":233,"./pl.js":233,"./pt":234,"./pt-br":235,"./pt-br.js":235,"./pt.js":234,"./ro":236,"./ro.js":236,"./ru":237,"./ru.js":237,"./sd":238,"./sd.js":238,"./se":239,"./se.js":239,"./si":240,"./si.js":240,"./sk":241,"./sk.js":241,"./sl":242,"./sl.js":242,"./sq":243,"./sq.js":243,"./sr":244,"./sr-cyrl":245,"./sr-cyrl.js":245,"./sr.js":244,"./ss":246,"./ss.js":246,"./sv":247,"./sv.js":247,"./sw":248,"./sw.js":248,"./ta":249,"./ta.js":249,"./te":250,"./te.js":250,"./tet":251,"./tet.js":251,"./tg":252,"./tg.js":252,"./th":253,"./th.js":253,"./tl-ph":254,"./tl-ph.js":254,"./tlh":255,"./tlh.js":255,"./tr":256,"./tr.js":256,"./tzl":257,"./tzl.js":257,"./tzm":258,"./tzm-latn":259,"./tzm-latn.js":259,"./tzm.js":258,"./ug-cn":260,"./ug-cn.js":260,"./uk":261,"./uk.js":261,"./ur":262,"./ur.js":262,"./uz":263,"./uz-latn":264,"./uz-latn.js":264,"./uz.js":263,"./vi":265,"./vi.js":265,"./x-pseudo":266,"./x-pseudo.js":266,"./yo":267,"./yo.js":267,"./zh-cn":268,"./zh-cn.js":268,"./zh-hk":269,"./zh-hk.js":269,"./zh-tw":270,"./zh-tw.js":270};s.keys=function(){return Object.keys(a)},s.resolve=n,e.exports=s,s.id=438},439:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validateForm(t)}}},[i("md-card",[i("md-card-header",[i("div",{staticClass:"md-title"},[e._v("New/Change log")])]),e._v(" "),i("md-card-content",[i("md-field",{class:e.getValidationClass("title")},[i("label",{attrs:{for:"title"}},[e._v("Title")]),e._v(" "),i("md-input",{attrs:{name:"title",id:"title",disabled:e.sending},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),e._v(" "),e.$v.form.title.required?e._e():i("span",{staticClass:"md-error"},[e._v("The title is required")])],1),e._v(" "),i("md-field",{class:e.getValidationClass("driver")},[i("label",{attrs:{for:"driver"}},[e._v("Driver")]),e._v(" "),i("md-input",{attrs:{name:"driver",id:"driver",disabled:e.sending},model:{value:e.form.driver,callback:function(t){e.$set(e.form,"driver",t)},expression:"form.driver"}}),e._v(" "),e.$v.form.driver.required?e._e():i("span",{staticClass:"md-error"},[e._v("The driver is required")])],1),e._v(" "),i("md-field",{class:e.getValidationClass("starting_date")},[i("label",{attrs:{for:"starting_date"}},[e._v("Starting date")]),e._v(" "),i("md-input",{attrs:{name:"starting_date",id:"starting_date",disabled:e.sending},model:{value:e.form.starting_date,callback:function(t){e.$set(e.form,"starting_date",t)},expression:"form.starting_date"}}),e._v(" "),i("span",{staticClass:"md-helper-text"},[e._v("DD.MM.YYYY HH:MM")]),e._v(" "),e.$v.form.starting_date.required?e._e():i("span",{staticClass:"md-error"},[e._v("The starting date is required")])],1),e._v(" "),i("md-field",{class:e.getValidationClass("finishing_date")},[i("label",{attrs:{for:"finishing_date"}},[e._v("Finishing date")]),e._v(" "),i("md-input",{attrs:{name:"finishing_date",id:"finishing_date",disabled:e.sending},model:{value:e.form.finishing_date,callback:function(t){e.$set(e.form,"finishing_date",t)},expression:"form.finishing_date"}}),e._v(" "),i("span",{staticClass:"md-helper-text"},[e._v("DD.MM.YYYY HH:MM")])],1),e._v(" "),i("md-field",{class:e.getValidationClass("starting_location")},[i("label",{attrs:{for:"starting_location"}},[e._v("Starting location")]),e._v(" "),i("md-input",{attrs:{name:"starting_location",id:"starting_location",disabled:e.sending},model:{value:e.form.starting_location,callback:function(t){e.$set(e.form,"starting_location",t)},expression:"form.starting_location"}}),e._v(" "),e.$v.form.starting_location.required?e._e():i("span",{staticClass:"md-error"},[e._v("The starting location is required")])],1),e._v(" "),i("md-field",{class:e.getValidationClass("finishing_location")},[i("label",{attrs:{for:"finishing_location"}},[e._v("Finishing location")]),e._v(" "),i("md-input",{attrs:{name:"finishing_location",id:"finishing_location",disabled:e.sending},model:{value:e.form.finishing_location,callback:function(t){e.$set(e.form,"finishing_location",t)},expression:"form.finishing_location"}}),e._v(" "),e.$v.form.finishing_location.required?e._e():i("span",{staticClass:"md-error"},[e._v("The finishing location is required")])],1),e._v(" "),i("md-switch",{staticClass:"md-primary",attrs:{disabled:e.sending},model:{value:e.form.andback,callback:function(t){e.$set(e.form,"andback",t)},expression:"form.andback"}},[e._v("... and back")]),e._v(" "),i("md-field",{class:e.getValidationClass("starting_milage")},[i("label",{attrs:{for:"starting_milage"}},[e._v("Starting milage")]),e._v(" "),i("md-input",{attrs:{type:"number",name:"starting_milage",id:"starting_milage",disabled:e.sending},model:{value:e.form.starting_milage,callback:function(t){e.$set(e.form,"starting_milage",t)},expression:"form.starting_milage"}}),e._v(" "),e.$v.form.starting_milage.required?e._e():i("span",{staticClass:"md-error"},[e._v("The starting milage is required")]),e._v(" "),e.$v.form.starting_milage.numeric?e._e():i("span",{staticClass:"md-error"},[e._v("Enter numbers only")])],1),e._v(" "),i("md-field",{class:e.getValidationClass("finishing_milage")},[i("label",{attrs:{for:"finishing_milage"}},[e._v("Finishing milage")]),e._v(" "),i("md-input",{attrs:{type:"number",name:"finishing_milage",id:"finishing_milage",disabled:e.sending},model:{value:e.form.finishing_milage,callback:function(t){e.$set(e.form,"finishing_milage",t)},expression:"form.finishing_milage"}}),e._v(" "),e.$v.form.finishing_milage.required?e._e():i("span",{staticClass:"md-error"},[e._v("The finishing milage is required")]),e._v(" "),e.$v.form.finishing_milage.numeric?e._e():i("span",{staticClass:"md-error"},[e._v("Enter numbers only")])],1),e._v(" "),i("md-card-expand",[i("md-card-actions",{attrs:{"md-alignment":"space-between"}},[i("label",{attrs:{for:"expand"}},[e._v("Additional info")]),e._v(" "),i("md-card-expand-trigger",[i("md-button",{staticClass:"md-icon-button",attrs:{name:"expand",id:"expand"}},[i("md-icon",[e._v("keyboard_arrow_down")])],1)],1)],1),e._v(" "),i("md-card-expand-content",[i("md-card-content",[i("md-field",{class:e.getValidationClass("parking_location")},[i("label",{attrs:{for:"parking_location"}},[e._v("Parking location")]),e._v(" "),i("md-input",{attrs:{name:"parking_location",id:"parking_location",disabled:e.sending},model:{value:e.form.parking_location,callback:function(t){e.$set(e.form,"parking_location",t)},expression:"form.parking_location"}})],1),e._v(" "),i("md-field",{class:e.getValidationClass("fuel_left")},[i("label",{attrs:{for:"fuel_left"}},[e._v("Fuel left (%)")]),e._v(" "),i("md-input",{attrs:{type:"number",name:"fuel_left",id:"fuel_left",disabled:e.sending},model:{value:e.form.fuel_left,callback:function(t){e.$set(e.form,"fuel_left",t)},expression:"form.fuel_left"}}),e._v(" "),e.$v.form.fuel_left.numeric?e._e():i("span",{staticClass:"md-error"},[e._v("The fuel left must be a number")])],1)],1)],1)],1),e._v(" "),e.sending?i("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):e._e(),e._v(" "),i("div",{staticClass:"md-layout md-alignment-center-center"},[i("div",{staticClass:"md-layout-item",staticStyle:{flex:"0"}})]),e._v(" "),i("md-snackbar",{attrs:{"md-active":e.$store.state.changesSaved},on:{"update:mdActive":function(t){e.$set(e.$store.state,"changesSaved",t)}}},[e._v("Changes saved with database.")])],1),e._v(" "),i("md-card-actions",[i("md-button",{staticClass:"md-primary",attrs:{type:"submit",disabled:e.sending}},[e._v("Save")])],1)],1)],1)])},n=[],a={render:s,staticRenderFns:n};t.a=a},440:function(e,t,i){"use strict";function s(e){i(441)}var n=i(271),a=i(442),r=i(30),l=s,o=r(n.a,a.a,!1,l,"data-v-3f4445fc",null);o.exports},441:function(e,t){},442:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validateForm(t)}}},[i("md-field",{class:e.getValidationClass("title")},[i("label",{attrs:{for:"title"}},[e._v("Title")]),e._v(" "),i("md-input",{attrs:{name:"title",id:"title",disabled:e.sending},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),e._v(" "),e.$v.form.title.required?e._e():i("span",{staticClass:"md-error"},[e._v("The title is required")])],1),e._v(" "),i("md-field",{class:e.getValidationClass("driver")},[i("label",{attrs:{for:"driver"}},[e._v("Driver")]),e._v(" "),i("md-input",{attrs:{name:"driver",id:"driver",disabled:e.sending},model:{value:e.form.driver,callback:function(t){e.$set(e.form,"driver",t)},expression:"form.driver"}}),e._v(" "),e.$v.form.driver.required?e._e():i("span",{staticClass:"md-error"},[e._v("The driver is required")])],1),e._v(" "),i("md-checkbox",{attrs:{value:"true"},model:{value:e.form.andback,callback:function(t){e.$set(e.form,"andback",t)},expression:"form.andback"}},[e._v("... and back")]),e._v(" "),i("md-field",{class:e.getValidationClass("starting_milage")},[i("label",{attrs:{for:"starting_milage"}},[e._v("Starting milage")]),e._v(" "),i("md-input",{attrs:{name:"starting_milage",id:"starting_milage",disabled:e.sending},model:{value:e.form.starting_milage,callback:function(t){e.$set(e.form,"starting_milage",t)},expression:"form.starting_milage"}}),e._v(" "),e.$v.form.starting_milage.required?e._e():i("span",{staticClass:"md-error"},[e._v("The starting milage is required")]),e._v(" "),e.$v.form.starting_milage.numeric?e._e():i("span",{staticClass:"md-error"},[e._v("Enter numbers only")])],1),e._v(" "),i("md-field",{class:e.getValidationClass("finishing_milage")},[i("label",{attrs:{for:"finishing_milage"}},[e._v("Finishing milage")]),e._v(" "),i("md-input",{attrs:{name:"finishing_milage",id:"finishing_milage",disabled:e.sending},model:{value:e.form.finishing_milage,callback:function(t){e.$set(e.form,"finishing_milage",t)},expression:"form.finishing_milage"}}),e._v(" "),e.$v.form.finishing_milage.required?e._e():i("span",{staticClass:"md-error"},[e._v("The finishing milage is required")]),e._v(" "),e.$v.form.finishing_milage.numeric?e._e():i("span",{staticClass:"md-error"},[e._v("Enter numbers only")])],1),e._v(" "),e.sending?i("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):e._e(),e._v(" "),i("div",{staticClass:"md-layout"},[i("div",{staticClass:"md-layout-item"}),e._v(" "),i("div",{staticClass:"md-layout-item"},[i("md-button",{staticClass:"md-primary",attrs:{type:"submit",disabled:e.sending}},[e._v("Save")])],1),e._v(" "),i("div",{staticClass:"md-layout-item"})]),e._v(" "),i("md-snackbar",{attrs:{"md-active":e.changesSaved},on:{"update:mdActive":function(t){e.changesSaved=t}}},[e._v("Changes saved with database.")])],1)])},n=[],a={render:s,staticRenderFns:n};t.a=a},444:function(e,t){},445:function(e,t){},91:function(e,t,i){"use strict";t.a={name:"app"}},92:function(e,t,i){"use strict";var s=i(46),n=i(278);s.default.use(n.a),t.a=new n.a.Store({state:{title:"title from vuex",current:{vehicle:null,log:null},user:null,snack:{show:!1,msg:null}},mutations:{setSnack:function(e,t){console.log("SNACKING"),e.snack.msg=t.msg,e.snack.show=!0,setTimeout(function(){e.snack.show=!1,e.snack.msg=null},t.duration||4e3)},setcurrent:function(e,t){t.val&&(e.current[t.key]=t.val),console.log(t)},setvehicles:function(e,t){t&&(e.vehicles=t)},setuser:function(e,t){t&&(e.user=t)},settitle:function(e,t){console.log("setting the title to "+t),e.title=t},addnewlogtocurrentvehicle:function(e,t){if(!e.current.vehicle||!t)throw"couldnt add newlog to store.state.current.vehicle";e.current.vehicle.logs||(e.current.vehicle.logs=[]),e.current.vehicle.logs.push(t)},cleanlog:function(e){e.current.log=null}}})},93:function(e,t,i){"use strict";var s=i(36),n=i.n(s),a=i(56),r=(i.n(a),i(87)),l=(i.n(r),i(88));i.n(l);t.a={name:"FormValidation",mixins:[r.validationMixin],data:function(){return{alert:!1,errmsg:"Something went wrong",form:{email:null,password:null},userSaved:!1,sending:!1,lastUser:null}},validations:{form:{email:{required:l.required,email:l.email},password:{required:l.required,minLength:Object(l.minLength)(4)}}},methods:{getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},clearForm:function(){this.$v.$reset(),this.form.email=null,this.form.password=null},saveUser:function(){var e=this;this.sending=!0,window.setTimeout(function(){e.lastUser=e.form.firstName+" "+e.form.lastName,e.userSaved=!0,e.sending=!1,e.clearForm()},1500)},genericerrh:function(e){this.errmsg=e.message,this.alert=!0,this.sending=!1},validateUser:function(){var e=this;this.$v.$touch(),this.$v.$invalid||(this.sending=!0,n.a.auth().signInWithEmailAndPassword(this.form.email,this.form.password).then(function(t){e.$store.commit("setuser",t);var i=[];n.a.firestore().collection("drivers-log").get().then(function(t){t.forEach(function(e){return i.push(e.data())}),console.log("vehicles"),console.log(i),e.$store.commit("setvehicles",i),e.sending=!1,e.$router.push("Vehicles")},function(t){return e.genericerrh(t)})},function(t){return e.genericerrh(t)}))}}}}},[272]);
//# sourceMappingURL=app.3bb4160fd27f9d5ef4e1.js.map